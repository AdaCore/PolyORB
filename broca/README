------------------------------------------------------------------------------
--                                                                          --
--                          ADABROKER COMPONENTS                            --
--                                                                          --
--                               R E A D M E                                --
--                                                                          --
--                            $Revision: 1.2 $
--                                                                          --
--         Copyright (C) 1999-2000 ENST Paris University, France.           --
--                                                                          --
-- AdaBroker is free software; you  can  redistribute  it and/or modify it  --
-- under terms of the  GNU General Public License as published by the  Free --
-- Software Foundation;  either version 2,  or (at your option)  any  later --
-- version. AdaBroker  is distributed  in the hope that it will be  useful, --
-- but WITHOUT ANY WARRANTY;  without even the implied warranty of MERCHAN- --
-- TABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public --
-- License  for more details.  You should have received  a copy of the GNU  --
-- General Public License distributed with AdaBroker; see file COPYING. If  --
-- not, write to the Free Software Foundation, 59 Temple Place - Suite 330, --
-- Boston, MA 02111-1307, USA.                                              --
--                                                                          --
-- As a special exception,  if other files  instantiate  generics from this --
-- unit, or you link  this unit with other files  to produce an executable, --
-- this  unit  does not  by itself cause  the resulting  executable  to  be --
-- covered  by the  GNU  General  Public  License.  This exception does not --
-- however invalidate  any other reasons why  the executable file  might be --
-- covered by the  GNU Public License.                                      --
--                                                                          --
--             AdaBroker is maintained by ENST Paris University.            --
------------------------------------------------------------------------------

Build requirements
------------------

C++ compiler: any compiler supported by OmniORB.
Ada 95 compiler: GNAT 3.12p.

AdaBroker has only been tested with an EGCS G++ and a GCC 2.8.1 GNAT.
The C++ part should work correctly with any C++ compiler supported
by omniORB.  However, we have had failure reports with GCC 2.8.1.
This will be fixed as soon as GNAT is officially ported on EGCS.

Build instructions
------------------

-  Edit adabroker/config/config.mk to select your target environment.
   Take care to select the proper C++ compiler here. These settings
   have no influence on the build of the Ada components of AdaBroker.

-  Make sure that the gnatmake binary from GNAT 3.12p is in your PATH.

-  In the top-level source directory, run "make". This will build:

   adabroker/adabroker: the IDL-to-Ada compiler.
   adasockets/lib/adasockets/*.{ali,o}: the Ada sockets
      library.
   src/{*.ali,libbroca.a}: Broca, the AdaBroker ORB
   examples/*: miscellaneous examples.


Usage
-----

  adabroker <myinterface>.idl
 
This creates several files :

- myinterface.ads, myinterface.adb : these files contain the mapping
  for user defined types (client and server side).

- myinterface-impl.ads, myinterface-impl.adb : these files are to be
  filled by the user. They contain the implementation of the
  server. They are generated only if the -i flag is specified.

- myinterface.ads, myinterface.adb : these files
  contain the client stubs for the interface.

- myinterface-skel.ads, myinterface-skel.adb : these files
  contain the server-side skeletons for the interface.

- myinterface-stream.ads, myinterface-stream.adb : these files
  contain subprograms to marshall data according to the CDR protocol.


Features
--------

- Most of the CORBA features are implemented except dynamic
  invocation. This includes CORBA types, CORBA exceptions, forward
  declarations and multiple inheritance. The Ada tasking is also
  working with AdaBroker. The 'examples' subdirectory provides
  several examples of the available features.

- This release has been successfully tested on Solaris 2.5.1. It has been
  reported to work on Debian GNU/Linux with the standard G++ and GNAT
  compilers from the 'potato' distribution.

- If you need to debug AdaBroker, you can create a file broca.opt in
  your current directory. This file should contain lines with package
  names you want to debug. For instance, corba.orb will enable debug
  messages from package CORBA.ORB. If you want to debug C++ files, you
  can set the environment variable TRACELEVEL to a given naturel depending
  on how much detailed you want the output to be.


Bug reports
-----------

If you find a bug and would like to submit fixes, please do so
indicating what release you use. We accept patch files. To produce
such a patch file, put your files in the AdaBroker directory and our
files in the directory AdaBroker.orig, and use the following command:

  diff --recursive --context adabroker.orig adabroker > patch_file

and send us the patch_file via E-mail at the address 

          adabroker-bugs@adabroker.eu.org

If your diff version do not understand the --recursive or --context
option, please use the GNU diffutils package which may be found on any
GNU archive (e.g. ftp://ftp.lip6.fr/pub/gnu/).

Note that unified diff files (-u option of GNU diff) are also welcomed.


Mailing-lists
-------------

Several mailing-lists have been created for discussions around AdaBroker:

  - adabroker@adabroker.eu.org: general discussions about AdaBroker
      To subscribe, send a mail to "adabroker-request@adabroker.eu.org"
      with the single line "subscribe" in the body (subject will be ignored)

  - adabroker-announce@adabroker.eu.org: low trafic mailing-list that will
      only carry important information about AdaBroker, such as new releases,
      beta test announces, etc.
      To subscribe, send a mail to
      "adabroker-announce-request@adabroker.eu.org" with the single line
      "subscribe" in the body (subject will be ignored)


Contributors:
-------------

AdaBroker has been developped since January, 1999 by the following
contributors:

* Fabien Azavant (azavant@enst.fr)
* Emmanuel Chavane (chavane@enst.fr)
* Jean-Marie Cottin (cottin@enst.fr)
* Laurent Kubler (kubler@enst.fr)
* Vincent Niebel (niebel@enst.fr)
* Laurent Pautet (pautet@enst.fr)
* Sebastien Ponce (ponce@enst.fr)
* Thomas Quinot (quinot@enst.fr)
* Frank Singhoff (singhoff@enst.fr)
* Samuel Tardieu (sam@enst.fr)

