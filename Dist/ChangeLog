Mon Feb 24 09:18:50 1997  Laurent Pautet  <pautet@lglsun11.epfl.ch>

	* xe_parse.adb: Add a general Write_Error_Message procedure.
	Update Declare_Subprogram to handle new subprogram definition.

	* xe.ads, xe.adb: Add function Is_Variable_Initialized and include
	is Set_Variable_* Variable_Is_Initialized.

	* xe_parse.adb, xe_parse.ads: Rewrite tree output. Remove junk
 	code. 
	
	* xe_scan.adb: Fix a bug (string without end delimiter).

	* xe.ads, xe.adb: Change xxx_Parameter_Mark into
 	xxx_Parameter_Initialized.

	* xe.ads, xe.adb: Remove Starter_Method_Type and use
 	Import_Method_Type instead (Ada and Shell were both used).

	* xe_parse.ads, xe_parse.adb, xe_stdcnf.ads, xe_stdcnf.adb: Export
 	xe_parse internal subprograms and move standard configuration into
 	xe_stdcnf. Reorganize code.

	* xe_utils.ads: Fix a bug due to a typo (">" was "=")
	
	* xe_back.adb: Fix bugs (concerning 'host and 'main) due to the
 	new way subprograms are handled (pragma and ada subprogram). The
 	non dist. main procedure is converted into a P'main and
 	P'_leader. _leader is an internal attribute to signal a main
 	partition.

	* xe_back.ads: Remove some unused stuff.
	
	* xe_lead.adb, xe_check.adb, xe_stubs.adb: Same as above
 	(concerning 'host and 'main).
	
Sat Feb 22 12:58:07 1997  Laurent Pautet  <pautet@lglsun11.epfl.ch>

	* xe_check.adb, xe_utils.ads, xe_utils.adb: Change partition
 	subprogram main name from partition name to "partition". Suppress
 	checks of conflicts.

	* xe_utils.ads: Fix a bug due to a bad renaming.

	* xe.ads, xe.adb, xe_parse.adb, xe_back.adb: Cleaner organisation
 	of configuration language predefined types.

	* xe_stubs.adb: A Change_Dir was mislocated. Don't generate
 	Set_Default_Filter when Default_Filter is null string.

Fri Feb 21 09:28:54 1997  Laurent Pautet  <pautet@lglsun11.epfl.ch>

	* xe_back.ads: Add tree node in configuration table items to
 	report error messages.

Thu Feb 20 14:49:39 1997  Laurent Pautet  <pautet@lglsun11.epfl.ch>

	* xe_stubs.adb: Integration of filtering.

	* xe_build.adb, xe_lead.adb, xe_stubs.adb, xe.adb, xe_check.adb,
 	xe_parse.adb, xe_usage.adb, xe_back.adb, xe_defs.adb, xe_scan.adb,
 	xe_utils.adb: Reorganize code.

	* xe_utils.ads: Include all kind of renamaing of GNAT entities.

Mon Feb 17 10:25:00 1997  Laurent Pautet  <pautet@lglsun11.epfl.ch>

        * xe_back.adb: Fixed a bug in Set_Attribute_Type.

        * xe.adb, xe.ads, xe_back.adb, xe_parse.adb, xe_parse.ads,
        xe_scan.adb: Move all enumeration types into int constants. Add
        comments into xe spec.

Sat Feb 15 15:18:03 1997  Laurent Pautet  <pautet@lglsun11.epfl.ch>

        * xe.adb: Add function Get_Filter.

        * xe_build.adb: Add information on channels in configuration
        report.

        * xe_back.adb: Channels table is now generated from tree.

        * xe_parse.adb: Several changes when procedures were dedicated to
        Ada units. They need to be generalized to at least Ada units and
        channels.
        
	* xe.adb, xe.ads, xe_parse.adb: Definition of Arrays and Lists (ie
 	Channel and Partition). Definition of extensible enumeration type
 	(sets) (Ada units).

	* xe_back.adb: Definition of all channel stuff.

	* xe_build.adb: Add a new error message when file cannot be
 	found. Use package xe_stubs (was a procedure).

	* xe_parse.adb: Change termination variable from X to
 	X_Termination to avoid conflicts. Change some error messages.

	* xe_build.adb, xe_lead.adb, xe_stubs.adb, xe.adb, xe_check.adb,
 	xe_parse.adb, xe_usage.adb, xe_back.adb, xe_defs.adb, xe_scan.adb,
 	xe_utils.adb: Reorganize all code (alphabetical order).

	* xe.ads: Reorganize specification and change
 	Update_Partition_Stamp into More_Recent_Stamp.
	
Thu Feb 13 15:21:57 1997  Laurent Pautet  <pautet@lglsun11.epfl.ch>

	* xe.adb: Minor reformating

	* xe_stubs.adb, xe_back.adb, xe_parse.adb, xe.ads, xe.adb: Move
 	Permanent into Termination. Three modes are allowed : Local (Don't
 	bother with other partitions), Global (Default), Deferred (Same as
 	Global but at the end, do not terminate).

	* xe_stubs.adb: When Local_Termination, once we exit the main
 	subprogram

Thu Feb 13 11:42:17 1997  Samuel Tardieu  <sam@inf.enst.fr>

	* xe.adb: Recognize '/' as well as the system's default separator.

	* xe_utils.adb: Ditto.

Wed Feb 12 12:26:01 1997  Laurent Pautet  <pautet@lglsun11.epfl.ch>

	* xe_utils.adb: Fix bug in Is_Relative_Dir with No_Name.
	Try to suppress '/' occurrences to futur port to Windows.

	* xe_stubs.adb: Fix bug that occurs when building executable file
 	name with No_Storage_Dir. String "../../.." appended twice.

	* xe_check.adb, xe_util.adb: Clean error message. Use
 	All_Lower_Case in Write_Unit_Name.

	* xe.ads: Minor reformatting.

	* xe_back.adb: Reorganize code (alphabetical order).

Tue Feb 11 16:27:04 1997  Laurent Pautet  <pautet@lglsun11.epfl.ch>

	* xe_check.adb: Do not try to recompile internal units. This code
 	was taken from an old version of gnatmake.

Tue Feb 11 11:38:48 1997  Laurent Pautet  <pautet@lglsun2.epfl.ch>

	* xe.adb, xe_stubs.adb: Use of Write_Missing_File.

Mon Feb 10 21:10:20 1997  Laurent Pautet  <pautet@lglsun2.epfl.ch>

	* xe_stubs.adb: Reorganize code (alphabetical order) and change
 	some parameter names.

	* xe_stubs.adb: Use the two new procedures of XE.

	* xe_stubs.adb: Improve recompilation and time stamp
 	operations. Fix a bug as well. Now, Mark_RCI_Callers has a new
 	capability which allows to compute the most recent ali file in the
 	partition sub-tree.

	* xe_check.adb: Add some debugging messages.

	* xe_utils.ads, xe_utils.adb: Reorganize code (alphabetical order)
 	and change some parameter names.

	* xe_utils.ads, xe_utils.adb : Add two new procedures :
 	Write_Stamp_Comparison and Write_Missing_File (Debugging messages).

	* xe.ads, xe.adb, xe_parse.adb: Add a new configuration language
 	type : Channel.

	* xe.ads, xe.adb: Add a new procedure Get_Partition_Dir which
 	returns the directory where all the partition sources are stored.

	* xe.ads, xe.adb: Add a new field in Partition_Type : Most_Recent
 	which denotes the most recent file of a partition. 

	* xe.ads, xe.adb: Add a new procedure Update_Partition_Stamp to
 	have more informations to decide when to rebuild a partition. Get
 	rid of Maybe_Most_Recent_Stamp which was not precise enough.

Mon Feb 10 19:48:58 1997  Samuel Tardieu  <sam@inf.enst.fr>

	* Makefile.am: Add support for gnatmake -s

Fri Feb  7 09:53:09 1997  Laurent Pautet  <pautet@lglsun11.epfl.ch>

	* xe.ads: Add a new parameter File in Maybe_Most_Recent_Stamp to
 	save the file that causes the update of Most_Recent_Stamp.

	* xe.adb, xe_utils.adb, xe_check.adb, xe.adb, xe_parse.adb :
 	Update the calls to Maybe_Most_Recent_Stamp.

	* config.sdefault: Break S1, S2 and S3 declaration lines.

	* xe_usage.adb: gnatmake -l has been changed into -M. Propagates
 	this change to gnatdist.

Wed Feb  5 17:32:57 1997  Samuel Tardieu  <sam@inf.enst.fr>

	* make-ada-dir: New file used to track what's needed in dist1.

	* Makefile.am: Added -a to gnatmake flags to allow the use of our
	  own library.

Wed Jan 22 16:18:13 1997  Laurent Pautet  <pautet@scapin.enst.fr>

	* xe_check.adb: Get rid of debugging information.

	* xe_build.adb : Use of new version of Gnatmake.

	* xe_back.adb: Fix a bug that didn't occur until 3.09w.
	  The first host used to be a dummy host, but was no longer
	  used. This incorrect host was causing the current bug.
	
Thu Dec 19 23:12:41 1996  Laurent Pautet  <pautet@scapin.enst.fr>

	* xe-gcc-filter.in: Get rid of some generated pieces of
	code in client stubs.

Thu Dec 19 13:46:57 1996  Samuel Tardieu  <sam@inf.enst.fr>

	* xe-gcc-filter.in: Changed bogus test.
	Changed RCI_Info into System.Partition_Interface.RCI_Info.

Mon Dec 16 16:45:08 1996  Laurent Pautet  <pautet@scapin.enst.fr>

	* xe-gcc-filter.in: Compatibility test (do we use gnat >= 3.09w).

Sat Nov 30 20:21:47 1996  Laurent Pautet  <pautet@quasimodo.enst.fr>

	* xe_stubs.adb, xe_utils.ads, xe_utils.adb: Change DSA
 	hierarchy. dsa/private contains stubs (as caller and receiver can
 	designate a configuration name or a partition
 	name). dsa/<configuration>/<partition> contains all the files (or
 	links) to build a partition. Move compilation of s-garela into
	Build_Partition to keep consistent. Check that s-garela is
	up-to-date and recompile when Force_Compilation is set.

Fri Nov 29 16:13:41 1996  Laurent Pautet  <pautet@quasimodo.enst.fr>

	* xe_parse.adb: Incorrect Cut/Paste.

Fri Nov 29 12:40:47 1996  Laurent Pautet  <pautet@scapin.enst.fr>

	* xe.ads, xe.adb, xe_parse.adb, xe_stubs.adb, xe_back.adb: Add a
 	new partition attribute Permanent and all the needed operations.

	* xe.ads, xe.adb, xe_build.adb: Use XE subprograms to build
	GNATDIST report.

Fri Nov 29 11:47:57 1996  Samuel Tardieu  <sam@inf.enst.fr>

	* xe_stubs.adb: Generate a call to Set_Boot_Server in elaboration
	  file if protocol has been specified in configuration file.

	* xe.ads: Default starter is now Ada instead of Shell.

Thu Nov 28 23:56:12 1996  Samuel Tardieu  <sam@inf.enst.fr>

	* xe_utils.ads: New flags.

	* xe_utils.adb: Compile with -gnatg.

	* xe_stubs.adb: Generation and compilation of new elaboration file.

Wed Nov 27 18:07:17 1996  Samuel Tardieu  <sam@inf.enst.fr>

	* xe_utils.ads: New argument to Write_* functions with file
	  descriptors to allow duplicate output when generating scripts.

	* xe_utils.adb: Fixed the way script output was handled.

	* xe_stubs.adb: Write on standard out (if needed) as well as in
	  generated file.

	* xe_lead.adb: Use "__EOF__" instead of "EOF" and do not
	  unconditionnally close output.

	* xe_check.adb: Generates "gnatmake -c ..." commands.

	* xe_build.adb: Add "#! /bin/sh" at the beginning of the script.

Wed Nov 20 12:39:57 1996  Laurent Pautet  <pautet@quasimodo.enst.fr>

	* xe.ads: Move Write_SLOC from xe_back.adb to xe.ads.

	* xe_check.adb: Fix an error message.

	* xe_back.adb: Use SLOC to print a more usefull error message.

	* xe_parse.adb: Check in P_Configuration_End that the
	configuration name is known before checking that it matches.

	* xe_stubs.adb: Create_Main_Unit rebuilds the partition main
	subprogram when Most_Recent_Stamp is more recent than the current
	partition main subprogram file stamp.

Fri Nov  8 16:35:19 1996  Laurent Pautet  <pautet@quasimodo.enst.fr>

	* xe_check.adb: Check that partition name does not conflict with
 	any other ada units (not present in the configuration file).
	

	* xe_parse.adb, xe.ads, xe.adb: Add some stuff to store SLOC on a
	GNATDIST node.

Tue Oct 22 10:24:14 1996  Samuel Tardieu  <sam@inf.enst.fr>

	* Makefile.am: Changed gnatmake into ${GNATMAKE} to allow gnatmake
	  redefinition (for example: make GNATMAKE="gnatmake -j2")

Fri Oct 18 14:09:23 1996  Laurent Pautet  <pautet@quasimodo.enst.fr>

	* xe.ads, xe_stubs.adb, xe_back.adb, xe_parse.adb: Add pragma
 	Version (Checks => [False | True])

Mon Oct  7 13:30:30 1996  Laurent Pautet  <pautet@inf.enst.fr>

	* xe_stubs.adb, xe.adb, xe.ads: Fix some problems with child units
	and file naming (a.b was translated in to a.b.adb rather than
	a-b.adb). There are still problems due to a.b'version.

Mon Sep 30 11:43:01 1996  Laurent Pautet  <pautet@quasimodo.enst.fr>

	* xe_stubs.adb, xe_utils.adb: Use configuration name as partition
 	main subprogram. File stamp checking has been a little bit
 	improved.

Sun Sep 29 18:33:58 1996  Laurent Pautet  <pautet@quasimodo.enst.fr>

	* xe_utils.adb: Later has been changed to More_Recent.

Mon Sep 23 18:23:05 1996  Laurent Pautet  <pautet@scapin.enst.fr>

	* xe.adb: Get_Host, Get_Command_Line, Get_Absolute_Exec,
	Get_Relative_Exec and Get_Main_Subprogram return default values
	when no specific value has been specified.

Wed Sep 11 19:26:16 1996  Samuel Tardieu  <sam@inf.enst.fr>

	* xe_parse.adb: Give proper error message on undeclared variable.

Wed Sep 11 15:57:44 1996  Laurent Pautet  <pautet@quasimodo.enst.fr>

	* xe_scan.adb, xe.ads : Don't tolerate reserved keywords anymore.

	* xe_back.adb: New error message when no main program has been
 	defined in the configuration file.

Wed Sep 11 14:39:58 1996  Samuel Tardieu  <sam@inf.enst.fr>

	* config.sdefault: Replaced which by type.

