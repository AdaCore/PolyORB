configuration Filters is

   function Localhost (P: String) return String;
   pragma Import (Shell, Localhost, "localhost");

   for Partition'Storage_Dir use "bin";
   for Partition'Host use Localhost;

   P1 : Partition := (prime_1);
   P2 : Partition := (prime_2);
   P3 : Partition := (prime_3);

   P4 : Partition := (System.Garlic.Filters.Double,
                      System.Garlic.Filters.Shuffling,
                      System.Garlic.Filters.Reversing);

   C1 : Channel := (P1, P2);
   C2 : Channel := (P2, P3);

   pragma Registration_Filter ("none");

   for Partition'Filter use "double";
   for Channel'Filter use "shuffling";
   for C1'Filter use "reversing";

   procedure Mainloop is in P4;

end Filters;
